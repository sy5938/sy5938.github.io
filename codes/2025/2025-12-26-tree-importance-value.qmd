---
title: "森林树木群落重要值（IV）的计算"
date: 2025-12-26
description: "用相对密度、相对频度与相对优势度计算树木群落的重要值，并给出可复用的 R 函数与示例数据演示。"
categories: [R, Ecology]
---

在森林群落分析中，**重要值（Importance Value, IV）** 用来综合描述某个物种在群落中的“地位”。常见的做法是将三个相对指标进行合成：

- 相对密度（Relative density）
- 相对频度（Relative frequency）
- 相对优势度（Relative dominance，常用胸高断面积表征）

本笔记使用示例数据 `data/群落重要值_示例数据.xlsx`（每行一株树木记录），并调用已写好的函数 `function/calc_tree_importance_value.R` 计算每个物种的 IV。

## 数据结构（示例）

示例数据包含 3 列：

- `小样方`：样方/小样方编号（用于计算频度）
- `sp.china`：物种名称（中文）
- `dbh2011`：胸径 DBH（默认按 cm 处理；若你的 DBH 单位不同，可在函数参数中指定）

## 计算思路与公式

设群落中共有 $S$ 个物种，第 $i$ 个物种：

- 个体数：$n_i$
- 出现的样方数（频度计数）：$f_i$
- 总断面积（优势度）：$BA_i$

### 1）密度与相对密度

$$
RD_i = \\frac{n_i}{\\sum_{k=1}^{S} n_k} \\times 100
$$

### 2）频度与相对频度

频度这里按“物种在多少个样方中出现”来计数：

$$
RF_i = \\frac{f_i}{\\sum_{k=1}^{S} f_k} \\times 100
$$

### 3）优势度与相对优势度（断面积）

单株树的胸高断面积（以 $dbh$ 的米制单位计算）：

$$
BA = \\pi \\left(\\frac{dbh}{2}\\right)^2
$$

物种优势度为其所有个体断面积之和 $BA_i$，相对优势度：

$$
RDo_i = \\frac{BA_i}{\\sum_{k=1}^{S} BA_k} \\times 100
$$

### 4）重要值（IV）

这里采用三个相对指标的算术平均：

$$
IV_i = \\frac{RD_i + RF_i + RDo_i}{3}
$$

## R 复现：读取数据并计算 IV

```{r}
library(readxl)

source("function/calc_tree_importance_value.R")

df <- read_excel("data/群落重要值_示例数据.xlsx")

# 返回 4 列：相对密度、相对频度、相对优势度、重要值（物种名在行名）
iv <- calc_tree_importance_value(df, dbh_unit = "cm")

knitr::kable(head(iv, 10), digits = 2)
```

## 结果解读建议

- **相对密度** 高：该物种个体数量多。
- **相对频度** 高：该物种在样方中分布更广、更常见。
- **相对优势度** 高：该物种更“粗壮/占空间”（断面积大）。
- **重要值** 作为综合指标，可用于排序、优势种判定或与其他群落比较。

